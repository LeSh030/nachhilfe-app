<!DOCTYPE html>
<html>
<head>
  <title>Trainingszentrum - Mathe Nachhilfe</title>
</head>
<body>
  <h1>Trainingszentrum: Mathe-Hausaufgabenhilfe</h1>

  <textarea id="question" rows="5" cols="50" placeholder="Gib hier deine Matheaufgabe ein..."></textarea>
  <br><br>
  <button onclick="askAI()">Frage die KI</button>

  <pre id="answer">Antwort kommt hier...</pre>

<script>
async function askAI() {
    const question = document.getElementById("question").value;

    const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer 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"  // Hier deinen API-Key einfügen
        },
        body: JSON.stringify({
            model: "gpt-3.5-turbo",
            messages: [{
                role: "user",
                content: `Erkläre diese Matheaufgabe für eine 10. Klässlerin Schritt für Schritt: ${question}`
            }]
        })
    });

    if (!response.ok) {
        const errorText = await response.text();
        document.getElementById("answer").innerText = "Fehler: " + response.status + "\n" + errorText;
        return;
    }

    const data = await response.json();

    // Hier den Inhalt korrekt auslesen
    const message = data.choices[0].message.content;

    // Antwort anzeigen
    document.getElementById("answer").innerText = message;
}
</script>

</body>
</html>
